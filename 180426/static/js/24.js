webpackJsonp([24],{jqh9:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("mvHQ"),a=t.n(n),i=t("Dd8w"),u=t.n(i),r=t("0xDb"),o={name:"sub-menu-nav",props:{menuNav:Object,required:!0},components:{SubMenuNav:m},methods:{gotoRouteHandle:function(e){var s=Object(r.a)(e);/\S/.test(s)&&this.$router.push({name:s})}}},l={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.menuNav.list&&e.menuNav.list.length>=1?t("el-submenu",{attrs:{"data-idx":e.menuNav.menuId+"",index:e.menuNav.menuId+""}},[t("template",{attrs:{slot:"title"},slot:"title"},[t("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menuNav.icon}}),e._v(" "),t("span",[e._v(e._s(e.menuNav.name))])],1),e._v(" "),e._l(e.menuNav.list,function(e){return t("sub-menu-nav",{key:e.menuId,attrs:{"menu-nav":e}})})],2):t("el-menu-item",{attrs:{index:e.menuNav.menuId+"","data-idx":e.menuNav.menuId+""},on:{click:function(s){e.gotoRouteHandle(e.menuNav.url)}}},[t("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menuNav.icon}}),e._v(" "),t("span",[e._v(e._s(e.menuNav.name))])],1)},staticRenderFns:[]},m=t("VU/8")(o,l,!1,null,null,null).exports,c=t("gyMJ"),d=t("NYxO"),v=t("lHK6"),N=t.n(v),_={data:function(){return{}},components:{SubMenuNav:m},computed:{menuNavActiveName:{get:function(){var e=this.$store.state.menuNavActiveName;return/\S/.test(e)?e:"1-1"},set:function(e){this.UPDATE_MENU_NAV_ACTIVE_NAME({name:e})}},sidebarClasses:function(){var e=this.$store.state.sidebarLayoutSkin;return[/\S/.test(e)&&"light"!==e?"site-sidebar--"+e:""]}},watch:{$route:"routeHandle"},created:function(){var e=this;this.getMenuNavList().then(function(){e.routeHandle(e.$route)})},methods:u()({getMenuNavList:function(){var e=this;return c.a.menu.nav().then(function(s){var t=s.data;if(t&&0===t.code){console.log(t);e.UPDATE_MENU_NAV_LIST(t.menuList),sessionStorage.setItem("permissions",a()(["sys:schedule:info","sys:menu:update","sys:menu:delete","sys:config:info","sys:menu:list","sys:config:save","sys:config:update","sys:schedule:resume","sys:user:delete","sys:config:list","sys:user:update","sys:role:list","sys:menu:info","sys:menu:select","sys:schedule:update","sys:schedule:save","sys:role:select","sys:user:list","sys:menu:save","sys:role:save","sys:schedule:log","sys:role:info","sys:schedule:delete","sys:role:update","sys:schedule:list","sys:user:info","sys:schedule:run","sys:config:delete","sys:role:delete","sys:user:save","sys:schedule:pause","sys:log:list","sys:oss:all"]||"[]")),console.log(t.permissions)}else e.UPDATE_MENU_NAV_LIST([]),sessionStorage.setItem("permissions","[]")})},routeHandle:function(e){if(e.meta&&e.meta.isTab){var s=this.$store.state.contentTabs.filter(function(s){return s.name===e.name})[0];if(N()(s)){var t=this.getMenuNavByRouteName(e.name,this.$store.state.menuNavList);if(N()(t))return console.error("未能找到可用tab标签页！");s={id:t.menuId,name:e.name,title:t.name,type:-1!==(window.SITE_CONFIG.nestIframeRouteNameList||[]).indexOf(e.name)?"iframe":"module",url:t.url},this.ADD_CONTENT_TAB(s)}this.menuNavActiveName=s.id+"",this.UPDATE_CONTENT_TABS_ACTIVE_NAME({name:e.name})}},getMenuNavByRouteName:function(e,s){for(var t=[],n=0;n<s.length;n++)if(s[n].list&&s[n].list.length>=1)t=t.concat(s[n].list);else if(Object(r.a)(s[n].url)===e)return s[n];return t.length>=1?this.getMenuNavByRouteName(e,t):[]}},Object(d.b)(["UPDATE_MENU_NAV_LIST","UPDATE_MENU_NAV_ACTIVE_NAME","ADD_CONTENT_TAB","UPDATE_CONTENT_TABS_ACTIVE_NAME"]))},f={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("aside",{staticClass:"site-sidebar",class:e.sidebarClasses},[t("div",{staticClass:"site-sidebar__inner"},[t("el-menu",{staticClass:"site-sidebar__menu",attrs:{"default-active":e.menuNavActiveName,collapse:e.$store.state.sidebarCollapse,collapseTransition:!1}},[t("el-menu-item",{attrs:{index:"1-1"},on:{click:function(s){e.$router.push({name:"home"})}}},[t("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:"fa fa-home"}}),e._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])],1),e._v(" "),e._l(e.$store.state.menuNavList,function(e){return t("sub-menu-nav",{key:e.menuId,attrs:{"menu-nav":e}})})],2)],1)])},staticRenderFns:[]},y=t("VU/8")(_,f,!1,null,null,null);s.default=y.exports}});
webpackJsonp([6,21,33,37],{"6f/g":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("pbcH"),r=s("jqh9"),o=s("sPSN"),l=s("gyMJ"),u=s("NYxO"),c={data:function(){return{loading:!0}},components:{Navbar:i.default,Sidebar:r.default,ContentTabs:o.default},computed:{siteWarpperClasses:function(){return[{"site-sidebar--collapse":this.$store.state.sidebarCollapse}]},siteContentWarpperStyles:function(){return[{minHeight:this.$store.state.documentClientHeight+"px"}]},routeIsTab:function(){return this.$route.meta&&this.$route.meta.isTab},contentViewStyles:function(){var e=this.$store.state.documentClientHeight;return e-=50,e-=15,e-=15,e-=2,[{minHeight:e+="px"}]}},created:function(){this.getUserInfo()},mounted:function(){var e=this;this.resetDocumentClientHeight(),window.onresize=function(){e.resetDocumentClientHeight()}},methods:a()({resetDocumentClientHeight:function(){this.UPDATE_DOCUMENT_CLIENT_HEIGHT({height:document.documentElement.clientHeight})},getUserInfo:function(){var e=this;l.a.user.info().then(function(t){var s=t.data;s&&0===s.code&&(e.loading=!1,e.DELETE_CONTENT_TABS(),e.UPDATE_USER_ID({id:s.user.userId}),e.UPDATE_USER_NAME({name:s.user.username}))})}},Object(u.b)(["UPDATE_DOCUMENT_CLIENT_HEIGHT","UPDATE_USER_ID","UPDATE_USER_NAME","DELETE_CONTENT_TABS"]))},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"site-wrapper",class:e.siteWarpperClasses,attrs:{"element-loading-text":"拼命加载中"}},[e.loading?e._e():[s("navbar"),e._v(" "),s("sidebar"),e._v(" "),s("div",{staticClass:"site-content__wrapper",style:e.siteContentWarpperStyles},[s("main",{staticClass:"site-content",class:{"site-content--tabs":e.routeIsTab}},[e.routeIsTab?s("content-tabs"):s("el-card",{attrs:{"body-style":e.contentViewStyles}},[s("keep-alive",[s("router-view")],1)],1)],1)])]],2)},staticRenderFns:[]},m=s("VU/8")(c,d,!1,null,null,null);t.default=m.exports},jqh9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("mvHQ"),a=s.n(n),i=s("Dd8w"),r=s.n(i),o=s("0xDb"),l={name:"sub-menu-nav",props:{menuNav:Object,required:!0},components:{SubMenuNav:c},methods:{gotoRouteHandle:function(e){var t=Object(o.b)(e);if(/\S/.test(t)){var s=this.$lodash.mapValues(this.$router.options.routes[2].children,"name");this.$lodash.invert(s)[t]?this.$router.push({name:t}):this.$router.push({name:"in404"})}}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.menuNav.list&&e.menuNav.list.length>=1?s("el-submenu",{attrs:{"data-idx":e.menuNav.menuId+"",index:e.menuNav.menuId+""}},[s("template",{attrs:{slot:"title"},slot:"title"},[s("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menuNav.icon}}),e._v(" "),s("span",[e._v(e._s(e.menuNav.name))])],1),e._v(" "),e._l(e.menuNav.list,function(e){return s("sub-menu-nav",{key:e.menuId,attrs:{"menu-nav":e}})})],2):s("el-menu-item",{attrs:{index:e.menuNav.menuId+"","data-idx":e.menuNav.menuId+""},on:{click:function(t){e.gotoRouteHandle(e.menuNav.url)}}},[s("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menuNav.icon}}),e._v(" "),s("span",[e._v(e._s(e.menuNav.name))])],1)},staticRenderFns:[]},c=s("VU/8")(l,u,!1,null,null,null).exports,d=s("gyMJ"),m=s("NYxO"),_=s("lHK6"),v=s.n(_),h={data:function(){return{}},components:{SubMenuNav:c},computed:{menuNavActiveName:{get:function(){var e=this.$store.state.menuNavActiveName;return/\S/.test(e)?e:"1-1"},set:function(e){this.UPDATE_MENU_NAV_ACTIVE_NAME({name:e})}},sidebarClasses:function(){var e=this.$store.state.sidebarLayoutSkin;return[/\S/.test(e)&&"light"!==e?"site-sidebar--"+e:""]}},watch:{$route:"routeHandle"},created:function(){var e=this;this.getMenuNavList().then(function(){e.routeHandle(e.$route)})},methods:r()({getMenuNavList:function(){var e=this;return d.a.menu.nav().then(function(t){var s=t.data;if(s&&0===s.code){e.UPDATE_MENU_NAV_LIST(s.menuList),sessionStorage.setItem("permissions",a()(["activity:activity:all","sys:schedule:info","sys:menu:update","sys:menu:delete","sys:config:info","sys:menu:list","sys:config:save","sys:config:update","sys:schedule:resume","sys:user:delete","sys:config:list","sys:user:update","sys:role:list","sys:menu:info","sys:menu:select","sys:schedule:update","sys:schedule:save","sys:role:select","sys:user:list","sys:menu:save","sys:role:save","sys:schedule:log","sys:role:info","sys:schedule:delete","sys:role:update","sys:schedule:list","sys:user:info","sys:schedule:run","sys:config:delete","sys:role:delete","sys:user:save","sys:schedule:pause","sys:log:list","sys:oss:all","sys:dict:save","sys:dict:delete","sys:dict:update"]||"[]"))}else e.UPDATE_MENU_NAV_LIST([]),sessionStorage.setItem("permissions","[]")})},routeHandle:function(e){if(e.meta&&e.meta.isTab){var t=this.$store.state.contentTabs.filter(function(t){return t.name===e.name})[0];if(v()(t)){var s=this.getMenuNavByRouteName(e.name,this.$store.state.menuNavList);if(v()(s))return console.log("未能找到可用tab标签页！");t={id:s.menuId,name:e.name,title:s.name,type:-1!==(window.SITE_CONFIG.nestIframeRouteNameList||[]).indexOf(e.name)?"iframe":"module",url:s.url},this.ADD_CONTENT_TAB(t)}this.menuNavActiveName=t.id+"",this.UPDATE_CONTENT_TABS_ACTIVE_NAME({name:e.name})}},getMenuNavByRouteName:function(e,t){for(var s=[],n=0;n<t.length;n++)if(t[n].list&&t[n].list.length>=1)s=s.concat(t[n].list);else if(Object(o.b)(t[n].url)===e)return t[n];return s.length>=1?this.getMenuNavByRouteName(e,s):[]}},Object(m.b)(["UPDATE_MENU_NAV_LIST","UPDATE_MENU_NAV_ACTIVE_NAME","ADD_CONTENT_TAB","UPDATE_CONTENT_TABS_ACTIVE_NAME"]))},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"site-sidebar",class:e.sidebarClasses},[s("div",{staticClass:"site-sidebar__inner"},[s("el-menu",{staticClass:"site-sidebar__menu",attrs:{"default-active":e.menuNavActiveName,collapse:e.$store.state.sidebarCollapse,collapseTransition:!1}},[s("el-menu-item",{attrs:{index:"1-1"},on:{click:function(t){e.$router.push({name:"home"})}}},[s("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:"fa fa-home"}}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])],1),e._v(" "),e._l(e.$store.state.menuNavList,function(e){return s("sub-menu-nav",{key:e.menuId,attrs:{"menu-nav":e}})})],2)],1)])},staticRenderFns:[]},T=s("VU/8")(h,f,!1,null,null,null);t.default=T.exports},pbcH:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("OHGg"),r=(s("gyMJ"),s("NYxO")),o={data:function(){return{updatePassowrdVisible:!1}},components:{UpdatePassword:i.default},computed:{navbarClasses:function(){var e=this.$store.state.navbarLayoutType;return[/\S/.test(e)&&"default"!==e?"site-navbar--"+e:""]}},methods:a()({switchSidebarCollapseHandle:function(){this.SWITCH_SIDEBAR_COLLAPSE({collapse:!this.$store.state.sidebarCollapse})},updatePasswordHandle:function(){var e=this;this.updatePassowrdVisible=!0,this.$nextTick(function(){e.$refs.updatePassowrd.init()})},logoutHandle:function(){var e=this;this.$confirm("确定进行[退出]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.DELETE_CONTENT_TABS(),e.$cookie.delete("token"),e.$router.replace({name:"login"})})}},Object(r.b)(["SWITCH_SIDEBAR_COLLAPSE","DELETE_CONTENT_TABS"]))},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"site-navbar",class:e.navbarClasses},[n("div",{staticClass:"site-navbar__header"},[n("h1",{staticClass:"site-navbar__brand",on:{click:function(t){e.$router.push({name:"home"})}}},[n("a",{staticClass:"site-navbar__brand-lg",attrs:{href:"javascript:;"}},[e._v("奥买家提拔系统")]),e._v(" "),n("a",{staticClass:"site-navbar__brand-mini",attrs:{href:"javascript:;"}},[e._v("奥买家")])])]),e._v(" "),n("div",{staticClass:"site-navbar__body clearfix"},[n("el-menu",{staticClass:"site-navbar__menu",attrs:{mode:"horizontal"}},[n("el-menu-item",{staticClass:"site-navbar__switch",attrs:{index:"0"},on:{click:function(t){e.switchSidebarCollapseHandle()}}},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])],1),e._v(" "),n("el-menu",{staticClass:"site-navbar__menu site-navbar__menu--right",attrs:{mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"},on:{click:function(t){e.$router.push({name:"setting"})}}},[n("template",{attrs:{slot:"title"},slot:"title"},[n("el-badge",{attrs:{value:"new"}},[n("icon-svg",{staticClass:"el-icon-setting",attrs:{name:"shezhi","aria-hidden":"true"}})],1)],1)],2),e._v(" "),n("el-menu-item",{staticClass:"site-navbar__avatar",attrs:{index:"3"}},[n("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"}},[n("span",{staticClass:"el-dropdown-link"},[n("img",{attrs:{src:s("zQrT"),alt:e.$store.state.user.name}}),e._v("\n            "+e._s(e.$store.state.user.name)+"\n          ")]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){e.updatePasswordHandle()}}},[e._v("修改密码")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){e.logoutHandle()}}},[e._v("退出")])],1)],1)],1)],1)],1),e._v(" "),e.updatePassowrdVisible?n("update-password",{ref:"updatePassowrd"}):e._e()],1)},staticRenderFns:[]},u=s("VU/8")(o,l,!1,null,null,null);t.default=u.exports},sPSN:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("lHK6"),r=s.n(i),o=s("NYxO"),l={data:function(){return{}},computed:{tabActiveName:{get:function(){return this.$store.state.contentTabsActiveName},set:function(e){this.UPDATE_CONTENT_TABS_ACTIVE_NAME({name:e})}}},watch:{"$store.state.contentTabs":function(e){e.length<=0&&(this.UPDATE_MENU_NAV_ACTIVE_NAME({name:""}),this.$router.push({name:"home"}))}},methods:a()({contentViewStyles:function(e){var t=this.$store.state.documentClientHeight;return t-=50,t-=40,t-=15,t-=15,t-=2,t+="px",["iframe"===e.type?{height:t}:{minHeight:t}]},getNestIframeUrl:function(e){return window.SITE_CONFIG.nestIframeUrl+e},selectedTabHandle:function(e){e=this.$store.state.contentTabs.filter(function(t){return t.name===e.name}),r()(e)||this.$router.push({name:e[0].name})},removeTabHandle:function(e){var t=this,s=this.$store.state.contentTabs.filter(function(t){return t.name!==e});s.length>=1&&e===this.tabActiveName&&this.$router.push({name:s[s.length-1].name},function(){t.tabActiveName=t.$route.name}),this.UPDATE_CONTENT_TABS(s)},toolsCommandHandle:function(e){var t=this;if("closeCurrent"===e)this.removeTabHandle(this.tabActiveName);else if("closeOther"===e)this.UPDATE_CONTENT_TABS(this.$store.state.contentTabs.filter(function(e){return e.name===t.tabActiveName}));else if("closeAll"===e)this.DELETE_CONTENT_TABS();else if("refreshCurrent"===e){var s=this.tabActiveName;this.removeTabHandle(s),this.$nextTick(function(){t.$router.push({name:s})})}}},Object(o.b)(["UPDATE_MENU_NAV_ACTIVE_NAME","UPDATE_CONTENT_TABS","UPDATE_CONTENT_TABS_ACTIVE_NAME","DELETE_CONTENT_TABS"]))},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-tabs",{attrs:{closable:!0},on:{"tab-click":e.selectedTabHandle,"tab-remove":e.removeTabHandle},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[e._l(e.$store.state.contentTabs,function(t){return s("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[s("el-card",{attrs:{"body-style":e.contentViewStyles(t)}},["iframe"===t.type?s("iframe",{attrs:{src:e.getNestIframeUrl(t.url),width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):s("keep-alive",[t.name===e.tabActiveName?s("router-view"):e._e()],1)],1)],1)}),e._v(" "),s("el-dropdown",{staticClass:"site-tabs__tools",attrs:{"show-timeout":0},on:{command:e.toolsCommandHandle}},[s("i",{staticClass:"el-icon-arrow-down el-icon--right"}),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"closeCurrent"}},[e._v("关闭当前标签页")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"closeOther"}},[e._v("关闭其它标签页")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"closeAll"}},[e._v("关闭全部标签页")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"refreshCurrent"}},[e._v("刷新当前标签页")])],1)],1)],2)},staticRenderFns:[]},c=s("VU/8")(l,u,!1,null,null,null);t.default=c.exports},zQrT:function(e,t,s){e.exports=s.p+"static/img/avatar.c58e465.png"}});